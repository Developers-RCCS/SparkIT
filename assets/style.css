:root{
  --bg:#0b1020; --fg:#eef3ff; --muted:#a8b3cf; --glass:rgba(255,255,255,.08);
  --accent: #7cf8c8; --accent2:#8aa4ff; --danger:#ff6b6b; --ok:#5be37d;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}
html,body{margin:0;height:100%;background:linear-gradient(140deg,#090e1a,#0f1630 60%,#101a3f);overflow:hidden;}
body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color:var(--fg);} 
/* header/HUD removed in favor of in-canvas HUD */
#game-wrap{position:fixed; inset:0; height:100dvh; display:grid; place-items:center;}
canvas{width:100%; height:100%; display:block; touch-action:none}

/* Overlay panels */
.overlay{
  position:fixed; inset:0; display:none; place-items:center; z-index:10; background:rgba(2,6,23,.35); backdrop-filter: blur(10px);
}
.panel{
  width:min(820px,92vw); max-height:calc(82vh - env(safe-area-inset-bottom)); overflow:auto; background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  border:1px solid rgba(255,255,255,.12); border-radius:18px; box-shadow: var(--shadow); padding:22px 20px 16px;
  animation:pop .18s ease-out;
}
@keyframes pop{from{transform:translateY(8px) scale(.98); opacity:0} to{transform:none; opacity:1}}

.panel h2{margin:0 0 8px; font-size:22px}
.panel p{color:var(--muted); line-height:1.5}
.grid{display:grid; gap:14px}
.grid.cols-2{grid-template-columns: 1fr 1fr}
@media (max-width:780px){ .grid.cols-2{grid-template-columns:1fr} }

.card{
  background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1); border-radius:12px; padding:14px 14px 12px;
}
.meta{display:flex; gap:10px; flex-wrap:wrap; margin:8px 0 0}
.meta .chip{font-size:12px; padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12)}
.btn{
  appearance:none; border:none; cursor:pointer; padding:10px 14px; border-radius:10px; font-weight:600;
  background:linear-gradient(90deg,var(--accent2),var(--accent)); color:#0b0f1c; box-shadow: var(--shadow);
}
.btn.secondary{background:rgba(255,255,255,.08); color:var(--fg); border:1px solid rgba(255,255,255,.12)}
.btn.small{padding:8px 12px; font-size:12px}
.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}

/* Form */
form{display:grid; gap:12px; margin-top:8px}
label{font-size:13px; opacity:.9}
input, textarea{
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.06); color:var(--fg)
}
.help{font-size:12px; color:var(--muted)}
.success{color:var(--ok)} .error{color:var(--danger)}

/* Toasts */
#toasts{position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:20}
.toast{background:#0f172a; color:var(--fg); border:1px solid rgba(255,255,255,.16); border-radius:12px; padding:10px 12px;
  box-shadow: var(--shadow); animation:fadein .15s ease-out}
@keyframes fadein{from{transform:translateY(6px); opacity:0} to{transform:none; opacity:1}}

/* Mobile controls */
#touch{
  position:fixed; left:0; right:0; bottom:calc(12px + env(safe-area-inset-bottom)); z-index:6; display:flex; justify-content:center; gap:12px;
}
.padbtn{width:64px; height:64px; border-radius:999px; border:1px solid rgba(255,255,255,.2); background:rgba(255,255,255,.06)}
@media (min-width:900px){ #touch{display:none} }

/* Fallback content for accessibility */
noscript {
  position: fixed; inset: auto 12px 12px 12px; z-index: 1;
  background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:12px;
}
